(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{359:function(s,a,t){"use strict";t.r(a);var e=t(12),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[s._v("#")]),s._v(" Jenkins")]),s._v(" "),a("h2",{attrs:{id:"jenkins做什么的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins做什么的"}},[s._v("#")]),s._v(" Jenkins做什么的？")]),s._v(" "),a("p",[s._v("Jenkins是一个开源自动化服务器，可用于轻松设置持续集成和持续交付(CI/CD)管道。Jenkins可以作为独立应用程序安装，也可以作为JavaScript servlet容器,也可以作为Docker容器运行。")]),s._v(" "),a("p",[s._v("持续集成（CI）是DevOps的一种实践，其中团队成员定期将其代码更改提交到版本控制存储库，然后运行自动构建和测试。持续交付（CD）是一系列实践，其中代码更改会自动生成，测试并部署到生产中。")]),s._v(" "),a("h2",{attrs:{id:"安装java-以下都是ubuntu上操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装java-以下都是ubuntu上操作"}},[s._v("#")]),s._v(" 安装Java(以下都是Ubuntu上操作)")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("sudo apt update\nsudo apt install openjdk"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jdk\n")])])]),a("p",[s._v("安装完成后，通过检查Java版本进行验证:")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("java "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("version\n")])])]),a("h2",{attrs:{id:"安装jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[s._v("#")]),s._v(" 安装Jenkins")]),s._v(" "),a("p",[s._v("在Ubuntu上安装Jenkins相对简单。我们将启用Jenkins APT存储库，导入存储库GPG密钥，并安装Jenkins软件包。")]),s._v(" "),a("p",[s._v("使用以下wget命令导入Jenkins存储库的GPG密钥：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("wget "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("q "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("O")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debian"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sudo apt"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("key add "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n")])])]),a("p",[s._v("接下来，使用以下命令将Jenkins存储库添加到系统中：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("sudo sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'echo deb http://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'")]),s._v("\n")])])]),a("p",[s._v("启用Jenkins存储库后，更新apt软件包列表并通过键入以下命令安装最新版本的Jenkins：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("sudo apt update\nsudo apt install jenkins\n")])])]),a("p",[s._v("如果收到错误消息，提示：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Error")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("W")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GPG")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("error")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pkg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("debian"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stable binary"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" Release"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" The following signatures couldn’t be verified because the "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" key is not available"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NO_PUBKEY")]),s._v(' 9B7D32F2D50582E6"\n')])])]),a("p",[s._v("通过以下方式导入密钥：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("sudo apt"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("key adv "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("keyserver keyserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("recv"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("keys 9B7D32F2D50582E6\n")])])]),a("p",[s._v("安装过程完成后，Jenkins服务将自动启动。可以通过打印服务状态来验证它：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("systemctl status jenkins\n")])])]),a("p",[s._v("应该会看到以下内容：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("● jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LSB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Start Jenkins at boot time\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Loaded")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("loaded")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("init"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" bad"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" enabled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Active")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("active")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exited"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since Thu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 2min 7s ago\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Docs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" man"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sysv"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("generator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"设置jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置jenkins"}},[s._v("#")]),s._v(" 设置Jenkins")]),s._v(" "),a("p",[s._v("要建立新的Jenkins的安装，打开浏览器，输入您的域名或IP地址，后跟端口8080，http://your_ip_or_domain:8080。")]),s._v(" "),a("p",[s._v("将显示类似于以下内容的页面，提示您输入在安装过程中创建的管理员密码：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/modular/20210402150521483.png",alt:""}})]),s._v(" "),a("p",[s._v("用于cat在终端上显示密码：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("sudo cat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("secrets"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("initialAdminPassword\n")])])]),a("p",[s._v("应该看到一个32个字符长的字母数字密码，如下所示：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("06cbf25d811a424bb236c76fd6e04c47\n")])])]),a("p",[s._v("从终端复制密码，将其粘贴到“管理员密码”字段中，然后单击“继续”。")]),s._v(" "),a("p",[s._v("在下一个屏幕上，安装向导将询问您是要安装建议的插件还是要选择特定的插件。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/modular/1609863482744.jpg",alt:""}})]),s._v(" "),a("p",[s._v("单击“安装建议的插件”框，安装过程将立即开始。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/modular/1609863544489.jpg",alt:""}})]),s._v(" "),a("p",[s._v("安装插件后，系统将提示您设置第一个管理员用户。填写所有必需的信息，然后单击“保存并继续”。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/modular/0190402150701948.png",alt:""}})]),s._v(" "),a("p",[s._v("一旦第一个管理员用户到位，你应该看到一个“Jenkins准备好了！” 确认屏幕。\n"),a("img",{attrs:{src:"/modular/20190402150722233.png",alt:""}})]),s._v(" "),a("p",[s._v("点击“开始使用Jenkins”来访问主要的Jenkins仪表板：\n"),a("img",{attrs:{src:"/modular/1609863772295.jpg",alt:""}})]),s._v(" "),a("p",[s._v("重启Jenkins")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("sudo systemctl restart jenkins\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);