<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器渲染流程 | 码农机器人</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="努力向前">
    
    <link rel="preload" href="/assets/css/0.styles.b8d0645b.css" as="style"><link rel="preload" href="/assets/js/app.61a85b1c.js" as="script"><link rel="preload" href="/assets/js/2.6b359b12.js" as="script"><link rel="preload" href="/assets/js/84.1a897e55.js" as="script"><link rel="prefetch" href="/assets/js/10.6bf522d2.js"><link rel="prefetch" href="/assets/js/100.a249a4e9.js"><link rel="prefetch" href="/assets/js/101.9d2465ad.js"><link rel="prefetch" href="/assets/js/102.5ea0ea92.js"><link rel="prefetch" href="/assets/js/103.ad073f03.js"><link rel="prefetch" href="/assets/js/104.afd1455c.js"><link rel="prefetch" href="/assets/js/105.5429d9b6.js"><link rel="prefetch" href="/assets/js/106.012719c5.js"><link rel="prefetch" href="/assets/js/107.fa002f10.js"><link rel="prefetch" href="/assets/js/108.9c70864a.js"><link rel="prefetch" href="/assets/js/109.ab6712ef.js"><link rel="prefetch" href="/assets/js/11.07adb038.js"><link rel="prefetch" href="/assets/js/110.3496849e.js"><link rel="prefetch" href="/assets/js/111.0708cccd.js"><link rel="prefetch" href="/assets/js/112.3ddda9ff.js"><link rel="prefetch" href="/assets/js/113.a826b4ec.js"><link rel="prefetch" href="/assets/js/114.54f06bf1.js"><link rel="prefetch" href="/assets/js/115.68bd2270.js"><link rel="prefetch" href="/assets/js/116.0e283e33.js"><link rel="prefetch" href="/assets/js/117.10ca7c11.js"><link rel="prefetch" href="/assets/js/118.0f21544b.js"><link rel="prefetch" href="/assets/js/119.3d5cdaf0.js"><link rel="prefetch" href="/assets/js/12.6a633ec9.js"><link rel="prefetch" href="/assets/js/13.2e8873e5.js"><link rel="prefetch" href="/assets/js/14.0ea5ac55.js"><link rel="prefetch" href="/assets/js/15.d24d1240.js"><link rel="prefetch" href="/assets/js/16.bfb99431.js"><link rel="prefetch" href="/assets/js/17.0bf6db21.js"><link rel="prefetch" href="/assets/js/18.f6a16197.js"><link rel="prefetch" href="/assets/js/19.15b1e095.js"><link rel="prefetch" href="/assets/js/20.56746f5a.js"><link rel="prefetch" href="/assets/js/21.5019bb92.js"><link rel="prefetch" href="/assets/js/22.36a83eaf.js"><link rel="prefetch" href="/assets/js/23.c1d826fa.js"><link rel="prefetch" href="/assets/js/24.66437f58.js"><link rel="prefetch" href="/assets/js/25.b5ef9760.js"><link rel="prefetch" href="/assets/js/26.1e34c193.js"><link rel="prefetch" href="/assets/js/27.ea4375e5.js"><link rel="prefetch" href="/assets/js/28.8e440e91.js"><link rel="prefetch" href="/assets/js/29.ffd2070e.js"><link rel="prefetch" href="/assets/js/3.a6d8cb97.js"><link rel="prefetch" href="/assets/js/30.c1451f4e.js"><link rel="prefetch" href="/assets/js/31.a21ecc83.js"><link rel="prefetch" href="/assets/js/32.5d1de9ff.js"><link rel="prefetch" href="/assets/js/33.f9eef1d1.js"><link rel="prefetch" href="/assets/js/34.edb8fde2.js"><link rel="prefetch" href="/assets/js/35.6950ed93.js"><link rel="prefetch" href="/assets/js/36.b394a848.js"><link rel="prefetch" href="/assets/js/37.f11aa33f.js"><link rel="prefetch" href="/assets/js/38.e86bdf7f.js"><link rel="prefetch" href="/assets/js/39.dbc9c882.js"><link rel="prefetch" href="/assets/js/4.f3783df1.js"><link rel="prefetch" href="/assets/js/40.470a2b37.js"><link rel="prefetch" href="/assets/js/41.bcffb885.js"><link rel="prefetch" href="/assets/js/42.484ee502.js"><link rel="prefetch" href="/assets/js/43.2a86b409.js"><link rel="prefetch" href="/assets/js/44.2b684e4d.js"><link rel="prefetch" href="/assets/js/45.4e6fb818.js"><link rel="prefetch" href="/assets/js/46.86268f46.js"><link rel="prefetch" href="/assets/js/47.84f7cda3.js"><link rel="prefetch" href="/assets/js/48.fd78be04.js"><link rel="prefetch" href="/assets/js/49.f5a6fc1e.js"><link rel="prefetch" href="/assets/js/5.892f2cf8.js"><link rel="prefetch" href="/assets/js/50.29919944.js"><link rel="prefetch" href="/assets/js/51.c1b5918c.js"><link rel="prefetch" href="/assets/js/52.c4ad64f8.js"><link rel="prefetch" href="/assets/js/53.df154372.js"><link rel="prefetch" href="/assets/js/54.4fee1b96.js"><link rel="prefetch" href="/assets/js/55.18c6e9f2.js"><link rel="prefetch" href="/assets/js/56.d5569485.js"><link rel="prefetch" href="/assets/js/57.9eb74b69.js"><link rel="prefetch" href="/assets/js/58.c8b7968e.js"><link rel="prefetch" href="/assets/js/59.a208d99c.js"><link rel="prefetch" href="/assets/js/6.a9a81823.js"><link rel="prefetch" href="/assets/js/60.c0f7048b.js"><link rel="prefetch" href="/assets/js/61.e06e2c12.js"><link rel="prefetch" href="/assets/js/62.3726a0b9.js"><link rel="prefetch" href="/assets/js/63.53a81692.js"><link rel="prefetch" href="/assets/js/64.ba6af384.js"><link rel="prefetch" href="/assets/js/65.2f165ffa.js"><link rel="prefetch" href="/assets/js/66.8c0a983a.js"><link rel="prefetch" href="/assets/js/67.74bf1c32.js"><link rel="prefetch" href="/assets/js/68.27c15e0b.js"><link rel="prefetch" href="/assets/js/69.5b78d6fb.js"><link rel="prefetch" href="/assets/js/7.a9e85c97.js"><link rel="prefetch" href="/assets/js/70.4772f9bd.js"><link rel="prefetch" href="/assets/js/71.2a2e89e4.js"><link rel="prefetch" href="/assets/js/72.3debedf0.js"><link rel="prefetch" href="/assets/js/73.c9ee93ce.js"><link rel="prefetch" href="/assets/js/74.7ec9495c.js"><link rel="prefetch" href="/assets/js/75.8c828ff5.js"><link rel="prefetch" href="/assets/js/76.986dc0d7.js"><link rel="prefetch" href="/assets/js/77.7e7e3c8e.js"><link rel="prefetch" href="/assets/js/78.200d9828.js"><link rel="prefetch" href="/assets/js/79.ee6b28e9.js"><link rel="prefetch" href="/assets/js/8.448002b9.js"><link rel="prefetch" href="/assets/js/80.93d03d67.js"><link rel="prefetch" href="/assets/js/81.eebcba15.js"><link rel="prefetch" href="/assets/js/82.3b0bb838.js"><link rel="prefetch" href="/assets/js/83.75234d18.js"><link rel="prefetch" href="/assets/js/85.8267b168.js"><link rel="prefetch" href="/assets/js/86.a7557c20.js"><link rel="prefetch" href="/assets/js/87.4f7e77b3.js"><link rel="prefetch" href="/assets/js/88.9b41f10e.js"><link rel="prefetch" href="/assets/js/89.662b9425.js"><link rel="prefetch" href="/assets/js/9.804860d0.js"><link rel="prefetch" href="/assets/js/90.6d84e2d8.js"><link rel="prefetch" href="/assets/js/91.650a7b6f.js"><link rel="prefetch" href="/assets/js/92.8568032c.js"><link rel="prefetch" href="/assets/js/93.0c300b40.js"><link rel="prefetch" href="/assets/js/94.f7ce23ff.js"><link rel="prefetch" href="/assets/js/95.e6c8272f.js"><link rel="prefetch" href="/assets/js/96.8f51c3ac.js"><link rel="prefetch" href="/assets/js/97.9cc683f5.js"><link rel="prefetch" href="/assets/js/98.6af1269f.js"><link rel="prefetch" href="/assets/js/99.97a09de8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8d0645b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="码农机器人" class="logo"> <span class="site-name can-hide">码农机器人</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>建立前端知识体系</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue源码分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>提效赋能 前端工程化篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>程序员PLUS篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>性能优化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/note/optimization/性能优化初探.html" class="sidebar-link">性能优化初探</a></li><li><a href="/note/optimization/测试网速.html" class="sidebar-link">测试网速</a></li><li><a href="/note/optimization/资源加载顺序.html" class="sidebar-link">资源加载顺序</a></li><li><a href="/note/optimization/浏览器渲染流程.html" class="active sidebar-link">浏览器渲染流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#页面分层" class="sidebar-link">页面分层</a></li><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#gpu硬件加速" class="sidebar-link">GPU硬件加速</a></li><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#影响重绘和重排的操作" class="sidebar-link">影响重绘和重排的操作</a></li><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#减少重绘" class="sidebar-link">减少重绘</a></li><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#使用fastdom" class="sidebar-link">使用fastdom</a></li><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#requestanimationframe" class="sidebar-link">requestAnimationFrame</a></li><li class="sidebar-sub-header"><a href="/note/optimization/浏览器渲染流程.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/note/optimization/各项指标的意义.html" class="sidebar-link">各项指标的意义</a></li><li><a href="/note/optimization/Chrome性能分析.html" class="sidebar-link">Chrome性能分析</a></li><li><a href="/note/optimization/资源优化.html" class="sidebar-link">资源优化</a></li><li><a href="/note/optimization/传输加载优化.html" class="sidebar-link">传输加载优化</a></li><li><a href="/note/optimization/用RAIL模型分析性能.html" class="sidebar-link">用RAIL模型分析性能</a></li><li><a href="/note/optimization/performance面板解决性能.html" class="sidebar-link">performance面板解决性能</a></li><li><a href="/note/optimization/Node性能调优.html" class="sidebar-link">Node性能调优</a></li><li><a href="/note/optimization/性能优化基础.html" class="sidebar-link">性能优化基础</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>知识点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>忍者秘籍书</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器渲染流程"><a href="#浏览器渲染流程" class="header-anchor">#</a> 浏览器渲染流程</h1> <p><strong>分析：</strong></p> <div class="language- extra-class"><pre><code>1. 网页的渲染流程
  	1. 浏览器的dom是分层的，网页是3D的。
  	2. 对DOM元素节点计算样式结果 Recalculate Style样式重计算
  	3. 为每个节点生成图形位置Layout回流重排
  	4. 将每个节点绘制填充到图层中Paint
  	5. 图层作为纹理上传到GPU
  	6. Composite Layers 合成层把符合图层生成到页面
2. Composite Layers 做了什么？
       	1. 图层的绘制列表，准备好，主线程 commit 合成线程
       	2. 合成线程 viewport rt 划分图块
       	3. 生成位图   栅格化（光栅化） raster
       	4. 所有图块 GPU合成生成DarwQuad提交给浏览器渲染进程
       	5. viz组件  接收到DarwQuad 绘制到我们的屏幕上
</code></pre></div><h2 id="页面分层"><a href="#页面分层" class="header-anchor">#</a> 页面分层</h2> <div class="custom-block tip"><p class="custom-block-title">知道吗？</p> <p>哪些属性会分层？如何查看图层？</p></div> <p>在 <strong>performance</strong> 里面点击 <strong>Layers</strong> 可以看到图层的列表</p> <ul><li>根元素</li> <li>position</li> <li>transform</li> <li>半透明</li> <li>css滤镜</li> <li>canvas</li> <li>video</li> <li>overflow</li></ul> <p>页面光分层不行，让 <strong>GPU</strong>参与工作才是提升性能的王道，那些属性能让 <strong>GPU</strong> 参与工作呢？</p> <h2 id="gpu硬件加速"><a href="#gpu硬件加速" class="header-anchor">#</a> GPU硬件加速</h2> <ul><li>CSS3D</li> <li>video</li> <li>webgl</li> <li>transform</li> <li>will-change: transform</li></ul> <h2 id="影响重绘和重排的操作"><a href="#影响重绘和重排的操作" class="header-anchor">#</a> 影响重绘和重排的操作</h2> <p><strong>重绘</strong> 是我们改动元素的字体颜色，背景色等外观元素时候，并不会改变它的大小，也不会影响其他原生的布局，这个时候就不需要重新构建渲染树。浏览器会对原生的样式重新绘制，这个过程叫做&quot;重绘&quot;</p> <p>重绘的触发:任何对元素样式，如 <strong>color</strong>，<strong>background-color</strong> 等属性的改变，JS和CSS都会引起重绘。</p> <p><strong>重排</strong> 一般来说盒子懂了必定会 <strong>重排</strong> ，因此建议使用怪异盒模型，固定盒子的大小。</p> <blockquote><p>重排必定引起重绘</p></blockquote> <ul><li>添加/删除元素</li> <li>内容发生改变(文字数量或图片大小等等)</li> <li>display:none</li> <li>移动元素位置</li> <li>修改浏览器大小，字体大小</li></ul> <p><strong>还有一些读取操作也可能引起重排</strong></p> <ul><li>offset(Top|Left|Width|Height)</li> <li>scroll(Top|Left|Width|Height)</li> <li>client(Top|Left|Width|Height)</li> <li>getComputedStyle()</li></ul> <div class="custom-block warning"><p class="custom-block-title">这里有个疑问</p> <p>为什么读取也会造成<strong>重排</strong> ?</p></div> <p>因为在用JS操作DOM时，浏览器会把操作维护在一个队列中，当达到一定数量浏览器在同一去执行队列中的操作，当去查询这些属性时，浏览器就会强制刷新队列。因为如果不立即执行队列中的任务，有可能得到的结果是错误的。相当于你强制打断了浏览器的优化流程，引起了重排</p> <div class="custom-block tip"><p class="custom-block-title">不知道那些属性咋办</p> <p><strong><a href="https://csstriggers.com/" target="_blank" rel="noopener noreferrer">csstriggers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  可查看是否引起重排重绘</strong></p></div> <h2 id="减少重绘"><a href="#减少重绘" class="header-anchor">#</a> 减少重绘</h2> <p>利用 <strong>DevTools</strong> 识别point的瓶颈，Chrome工具的使用</p> <p><img src="/optimization/chrome_performance_test.png" alt=""></p> <div class="language- extra-class"><pre><code>蓝色:网络通信和HTML解析
黄色:JavaScript执行时间
紫色:样式计算和布局，即Layout重排
绿色:Paint重绘
</code></pre></div><p><strong>CSS是否引起重排和重绘</strong>？</p> <p>在<a href="https://github.com/Royxc/my_blog/tree/master/docs/note/optimization/packages/box1.html" target="_blank" rel="noopener noreferrer">例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中我们打开 <strong>performance</strong> 进行录制</p> <p><img src="/optimization/reflow.png" alt=""></p> <p>发现一直在执行Layout(重排)-Paint(重绘)-Composite Layers(合成)的过程</p> <p>使用 <strong>transform</strong> 开启硬件加速后，再次录制如下:</p> <p><img src="/optimization/box-transform.png" alt=""></p> <p>可以清楚的看到主线程现在处于空闲状态,而 <strong>GPU</strong> 参与了工作,直接跳过了重绘和重排的过程,大大的提升了性能!</p> <div class="custom-block tip"><p class="custom-block-title">小结</p> <p>使用 <strong>top</strong> <strong>left</strong> 会发现不断的重排和重绘</p> <p>使用 <strong>transform</strong> 则没有</p></div> <h2 id="使用fastdom"><a href="#使用fastdom" class="header-anchor">#</a> 使用fastdom</h2> <p>在<a href="http://wilsonpage.github.io/fastdom/examples/animation.html" target="_blank" rel="noopener noreferrer">fastdom实例<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中我们可以明确的感觉到用了 <strong>fastdom</strong>页面流程许多</p> <p>现在我们自己来写个简单 <a href="https://github.com/Royxc/my_blog/tree/master/docs/note/optimization/packages/fastdom.html" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>操作下:</p> <p>我们点开 <strong>performance</strong>,查看页面绘制过程发现不停的 <strong>Recalculate</strong> 和进行 <strong>layout</strong></p> <p><img src="/optimization/fastdom.png" alt=""></p> <p>但是我们使用<a href="https://github.com/Royxc/my_blog/tree/master/docs/note/optimization/packages/fastdom1.html" target="_blank" rel="noopener noreferrer">fastdom<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 进行读写分离后，发现进行了统一的操作，大大减少了浏览器的开销</p> <p><img src="/optimization/fastdom1.png" alt=""></p> <h2 id="requestanimationframe"><a href="#requestanimationframe" class="header-anchor">#</a> requestAnimationFrame</h2> <p>如果想执行动画操作,可以使用 <strong>requestAnimationFrame</strong> 要求浏览器在下次重绘之前调用指定的回调函数更新动画,可以达到和浏览器同步刷新,以避免不必要的开销.</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p><img src="/optimization/zongjie.png" alt="zongjie.png"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">8/25/2021, 3:56:53 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/optimization/资源加载顺序.html" class="prev">
        资源加载顺序
      </a></span> <span class="next"><a href="/note/optimization/各项指标的意义.html">
        各项指标的意义
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.61a85b1c.js" defer></script><script src="/assets/js/2.6b359b12.js" defer></script><script src="/assets/js/84.1a897e55.js" defer></script>
  </body>
</html>
